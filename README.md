[<img align="right" alt="Avatar bot" width="350px" src="https://media.discordapp.net/attachments/1016995045783633940/1080964769927942234/Icon.png" />](https://discordapp.com/users/623170593268957214)
# WatKLOK
- –ê–≤—Ç–æ—Ä: [`SNIPPIK`](https://github.com/SNIPPIK)
- –õ–∏—Ü–µ–Ω–∑–∏—è: [`WatKLOK LICENSE`](LICENSE.md)
- –ü–µ—Ä–µ–π—Ç–∏ –∫ [`–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º`](db/Config.json)
- –ü–µ—Ä–µ–π—Ç–∏ –∫ [`–∫–æ–º–∞–Ω–¥–∞–º`](src/Handler/Commands) | `Slash + Standart`
- –ü–µ—Ä–µ–π—Ç–∏ –∫ [`–ø–ª–µ–µ—Ä—É`](src/AudioPlayer)
- –ü–µ—Ä–µ–π–¥–∏ –∫ [`–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏`](https://www.youtube.com/playlist?list=PLrQkedRE9MFvchEkGvt-Tk5jqS5GiS8Kd)
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è

<img align="center" alt="PGI Settings" width="1000px" src="https://github.com/SNIPPIK/WatKLOK/blob/main/.github/resource/PGI.png?raw=true" />

<img align="center" alt="Bot Permissions" width="1000px" src="https://github.com/SNIPPIK/WatKLOK/blob/main/.github/resource/Bot Permissions.png?raw=true" />

## –ì–∞–π–¥ –ø–æ –∑–∞–ø—É—Å–∫—É
1. [`Node.js`](https://nodejs.org/ru/) 18-19
2. [`FFmpeg & FFprobe`](https://ffmpeg.org/) –∏–ª–∏ npm install (ffmpeg-static –∏ ffprobe-static)
3. –ó–∞–ø—É—Å–∫–∞–µ–º `npm run build`
4. –£–∫–∞–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ [`build/.env`](build/.env) | `Ps –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, —Ç–æ –Ω–∞–¥–æ —Å–æ–∑–¥–∞—Ç—å`
5. –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞ | `–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –æ—à–∏–±–∫–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ –∑–∞–Ω–æ–≤–æ`
   - –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –Ω–µ –±–æ–ª–µ–µ 1–∫, —Ç–æ `npm run start`
   - –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–æ–ª–µ–µ 1–∫, —Ç–æ `npm run sharder`

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
[–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º](src/AudioPlayer/Structures/Platform.ts)

|–¢–µ–≥–∏| –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã                                    | –ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ                                      | –ê—É–¥–∏–æ                    | –î–æ—Å—Ç—É–ø –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
|----|----------------------------------------------|---------------------------------------------------|--------------------------|------------------------|
| YT | [**YouTube**](https://www.youtube.com/)      | **–≤–∏–¥–µ–æ, –ø–ª–µ–π–ª–∏—Å—Ç—ã, –ø–æ–∏—Å–∫, —Å—Ç—Ä–∏–º—ã, –∫–∞–Ω–∞–ª—ã**  | ‚úî                        | ‚úî                     |
| SP | [**Spotify**](https://open.spotify.com/)     | **—Ç—Ä–µ–∫–∏, –ø–ª–µ–π–ª–∏—Å—Ç—ã, –ø–æ–∏—Å–∫, –∞–ª—å–±–æ–º—ã, –∞–≤—Ç–æ—Ä—ã** | ‚úî (YM, YT)               | ‚ùå                    |
| YM | [**Yandex Music**](https://music.yandex.ru/) | **—Ç—Ä–µ–∫–∏, –∞–ª—å–±–æ–º—ã, –ø–æ–∏—Å–∫, –∞–≤—Ç–æ—Ä—ã**            | ‚úî                        | ‚ùå                    |
| SC | [**SoundCloud**](https://soundcloud.com/)    | **—Ç—Ä–µ–∫–∏, –ø–ª–µ–π–ª–∏—Å—Ç—ã, –ø–æ–∏—Å–∫, –∞–ª—å–±–æ–º—ã**         | ‚úî                        | ‚úî                     |
| VK | [**VK**](https://vk.com/)                    | **—Ç—Ä–µ–∫–∏, ~~–ø–ª–µ–π–ª–∏—Å—Ç—ã~~, –ø–æ–∏—Å–∫**              | ‚úî                        | ‚ùå                    |
| D  | [**Discord**](https://discord.com/)           | **—Å—Å—ã–ª–∫–∏, —Ñ–∞–π–ª—ã**                            | ‚úî                        | ‚úî                     |

<details>
  <summary>–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</summary>

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏
1. [`.env`](.env) | –¥–ª—è –Ω–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   ```dotenv
    TOKEN="" #Discord bot token
    SPOTIFY_ID="" #Spotify client id
    SPOTIFY_SECRET="" #Spotify client secket
    SOUNDCLOUD="" #Soundcloud client id
    VK_TOKEN="" #Vk auth token (user token, not a bot token)
    YANDEX="" #–°—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ https://oauth.yandex.ru/authorize?response_type=token&client_id=23cabbbdc6cd418abb4b39c32c41195d
   ```
2. [`Cookie.json`](db/Cookie.json) | –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Å–Ω—è—Ç–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π **YouTube**
    ```json5
   {
      "Cookie": ""
   }
   ```
3. [`Config.json`](db/Config.json) | –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   ```json5
   {
      "APIs": {
         //–õ–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤ (–ø–ª–µ–π–ª–∏—Å—Ç–∞, –ø–æ–∏—Å–∫–∞, —Ç–æ–ø —Ç—Ä–µ–∫–æ–≤ –∞–≤—Ç–æ—Ä–∞)
         "limits": {
            "playlist": 50, //playlist, album
            "search": 5, //–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 5
            "author": 5
         },

        //–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º (–æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å–æ–ª–∏)
        "showErrors": false,
        
        //–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö (–æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –∫–∞–Ω–∞–ª–µ –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω Channels.sendErrors)
        "sendErrors": false,
      
        //–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º —á—Ç–æ –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—É–¥–∏–æ —É –ø–ª–∞—Ç—Ñ–æ—Ä–º —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ SongSupport<PlatformsAudio>
        "showWarningAudio": true
      },
      "Channels": {
        //ID –∫–∞–Ω–∞–ª–∞ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—à–∏–±–∫–∏
        "sendErrors": "",
   
        //ID –∫–∞–Ω–∞–ª–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–∫–∏–Ω—É–≤—à–∏–µ —Å–µ—Ä–≤–µ—Ä
        "removeUser": ""
      },
      "Bot": {
         "ignoreErrors": true, //–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏
         "prefix": "!", //–ü—Ä–µ—Ñ–∏–∫—Å
         "OwnerIDs": [], //–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–¥–µ–ª—É Owner

         //–ë–æ—Ç –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ –ø–∏—à–µ—Ç –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª
         "TypingMessage": true
      },
      //–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
      "Debug": false,
      //[Beta] –†–µ–∂–∏–º –æ–±—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –Ω–µ–∫—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ)
      "QueueCallbacks": true,

      //–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º—É–∑—ã–∫–∏
      "Music": {
         "CacheMusic": false, //–ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –º—É–∑—ã–∫—É? (–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ seek, –∫–∞–∫ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞), –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ c seek
         "CacheDir": "AudioCache", //–ü—É—Ç—å, –≥–¥–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∫–µ—à –º—É–∑—ã–∫–∏

         //–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ <platform>.<type>
         //–ü–∞—Ä–∞–º–µ—Ç—Ä –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —á—Ç–æ –≤ APIs<showWarningAudio>. –ï—Å–ª–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –≤—ã–∫–ª—é—á–µ–Ω, —Ç–æ showWarningAudio –±—É–¥–µ—Ç –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞
         "showGettingData": false,
   
         //–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–µ–µ—Ä–∞
         "AudioPlayer": {
            "methodSendPackets": "djs", //–ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã (—Å—Ç–∞—Ä—ã–º —Å–ø–æ—Å–æ–±–æ–º - djs, –Ω–æ–≤—ã–º —Å–ø–æ—Å–æ–±–æ–º - new)
   
            "sendDuration": 20, //–ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ –Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
            "updateMessage": 15 //–° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫ –∏–ª–∏ —Å–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç)
         },
          //–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞
         "ProgressBar": {
            "enable": true, //–°–æ—Å—Ç–æ—è–Ω–∏–µ (–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–ª–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å)
            "empty": "‚îÄ", //–ü–æ—Å–ª–µ —Ç–æ—á–∫–∏ –±—É–¥–µ—Ç –∏–¥—Ç–∏ empty
            "full": "‚îÄ", //–î–æ —Ç–æ—á–∫–∏ –±—É–¥–µ—Ç –∏–¥—Ç–∏ full
            "button": "‚ö™" //–°–∞–º–∞ —Ç–æ—á–∫–∞
         },
         //–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ
         "Audio": {
             "bitrate": "256k" //–ë–∏—Ç—Ä–µ–π—Ç –∞—É–¥–∏–æ
         },
        //–ï—Å–ª–∏ —É —Ç—Ä–µ–∫–∞, –ø–ª–µ–π–ª–∏—Å—Ç–∞, –∞–ª—å–±–æ–º–∞ –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–∞ _found –∏–ª–∏ _image
        //–ï—Å–ª–∏ –∞–≤—Ç–æ—Ä —Ç—Ä–µ–∫–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–∞ ver, –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ _ver
        "images": {
            "ver": "https://media.discordapp.net/attachments/815897363188154408/1028014390299082852/Ok.png",
            "_ver": "https://media.discordapp.net/attachments/815897363188154408/1028014389934174308/Not.png",
            "_found": "https://media.discordapp.net/attachments/815897363188154408/1028014390752055306/WTF.png",
            "_image": "https://media.discordapp.net/attachments/815897363188154408/1028014391146328124/MusciNote.png"
        },
        //–ö–Ω–æ–ø–∫–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–µ–∫—É—â–µ–º —Ç—Ä–µ–∫–µ
        //–í–∞—Ä–∏–∞—Ü–∏–∏ [{id: "ID emoji"}] –∏–ª–∏ [{name: "emoji"}]
        //–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö –∫–æ–ª-–≤–æ –∫–Ω–æ–ø–æ–∫ –±—É–¥–µ—Ç –≤–≤–µ–¥–µ–Ω–∞ –ø–æ–∑–∂–µ
        "Buttons": [
            { "name": "‚è™" }, { "name": "‚èØ" }, { "name": "‚è©" }, { "name": "üîÉ" }
        ]
      },

      //–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é
      "ReactionMenuSettings": {
         "emojis": {
            "back": "‚¨ÖÔ∏è", //–ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
            "next": "‚û°Ô∏è", //–ö–Ω–æ–ø–∫–∞ –≤–ø–µ—Ä–µ–¥
            "cancel": "‚ùå" //–£–¥–∞–ª–µ–Ω–∏–µ –º–µ–Ω—é
         }
      },
   
      //–î–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (–ø–æ —Ç–∏–ø—É skip, remove, seek)
      "Voting": ["‚úÖ", "‚ùå"]
   }
   ```
4. [`Filters.json`](db/Filters.json) | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥ | [`FFmpeg Docs`](https://ffmpeg.org/ffmpeg.html)
    ```json5
   [
      {
         "names": ["name"], //–ù–∞–∑–≤–∞–Ω–∏—è
         "description": "–¢–∏–ø–∞ –æ–ø–∏—Å–∞–Ω–∏–µ", //–û–ø–∏—Å–∞–Ω–∏–µ

         //–°–∞–º –∞—Ä–≥—É–º–µ–Ω—Ç, –µ—Å–ª–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å args —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ-–±—ã –≤ –∫–æ–Ω—Ü–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –±—ã–ª–æ =
         //–ü—Ä–∏–º–µ—Ä atempo=
         "filter": "–ê—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è FFmpeg",

         //–ú–∏–Ω, –º–∞–∫—Å - –º–∏–Ω –∏ –º–∞–∫—Å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞
         //–ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–µ –Ω—É–∂–µ–Ω, –æ—Å—Ç–∞–≤–∏—Ç—å false
         "args": [1, 3],

         //–£—Å–∫–æ—Ä—è–µ—Ç—Å—è –ª–∏ –º—É–∑—ã–∫–∞, –¥–∞ —Ç–æ –∫–∞–∫ (arg - —É—Å–∫–æ—Ä—è–µ—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, 1.25 - —É—Å–∫–æ—Ä—è–µ—Ç—Å—è –≤ 1.25)
         //–í–ª–∏—è–µ—Ç –Ω–∞ progress bar
         "speed": "arg"
      }
   ]
     ```
</details>
